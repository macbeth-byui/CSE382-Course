<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lesson12.md</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#cse-382-lesson-12---queues-and-deques">CSE 382 Lesson 12 - Queues and Deques</a>
<ul>
<li><a href="#part-1---using-stacks-for-a-queue">Part 1 - Using Stacks for a Queue</a></li>
<li><a href="#problem-set-1">Problem Set 1</a></li>
<li><a href="#part-2---deque">Part 2 - Deque</a></li>
<li><a href="#problem-set-2">Problem Set 2</a></li>
<li><a href="#part-3---performance">Part 3 - Performance</a></li>
<li><a href="#problem-set-3">Problem Set 3</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="cse-382-lesson-12---queues-and-deques">CSE 382 Lesson 12 - Queues and Deques</h1>
<p>In Erlang you have noticed that it is more efficient to access the front of a list as opposed to the back of the list.  This means that it is very efficient to implement a stack.  Queues on the other hand are more expensive since we have to recursively traverse to the end of the list to enqueue new values.  To resolve this problem we will use a technique that combines two stacks together to form a queue.</p>
<p>You can find the template for the problem sets in this lesson here: <a href="https://macbeth-byui.github.io/cse382-course/proves/prove12.erl">prove12.erl</a></p>
<h2 id="part-1---using-stacks-for-a-queue">Part 1 - Using Stacks for a Queue</h2>
<p>The basic functions of a queue include the ability to do the following:</p>
<ul>
<li><code>enqueue</code> - insert a new value at the back (or end) of the queue</li>
<li><code>dequeue</code> - remove a value from the front (or start) of the queue</li>
<li><code>head</code> - get the value from the front of the queue</li>
</ul>
<p>If we used a list to do this, we would have O(1) for the <code>dequeue</code> and the head but O(n) for the <code>enqueue</code>.  To resolve this problem, we will use two lists and treat both them as stacks as follows:</p>
<ul>
<li><code>Front</code> - This stack will always have the next value to <code>dequeue</code> available at the front of the stack.  The <code>head</code> function will use this stack as well.</li>
<li><code>Back</code> - This stack will always have the next value to <code>enqueue</code> be available at the front of the stack.</li>
</ul>
<p><img src="https://macbeth-byui.github.io/cse382-course/images/queue.drawio.png" alt="Queue"></p>
<p>The dilemma with this arrangement is that we have no way to get values added to <code>Back</code> to migrate over to the <code>Front</code>.  This would be mean that <code>Front</code> would always be empty.  To resolve this problem we introduce a rule, or an invariant, which is that the <code>Front</code> can only be empty if the <code>Back</code> is also empty.  If both are empty, then we say the queue is empty as well.  This rule requires us to move items between the two stacks as needed.</p>
<p>We will store both stacks in a single structure:</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>r</mi><mi>u</mi><mi>c</mi><mi>t</mi><mtext>&nbsp;&nbsp;</mtext><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>a</mi><mo stretchy="false">]</mo><mo>:</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>a</mi><mo stretchy="false">]</mo><mo>:</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">struct ~ ~ queue \lbrace [a] : Front, [a] : Back \rbrace.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right: 0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mopen">{[</span><span class="mord mathnormal">a</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<p>Our three functions are specified as follows:</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mtext>&nbsp;&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mi>a</mi><mtext>&nbsp;&nbsp;</mtext><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>→</mo><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">spec ~ ~ enqueue :: a ~ ~ queue \rightarrow queue.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">a</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord">.</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>→</mo><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">spec ~ ~ dequeue :: queue \rightarrow queue.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord">.</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mtext>&nbsp;&nbsp;</mtext><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>:</mo><mo>:</mo><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>→</mo><mi>a</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">spec ~ ~ head :: queue \rightarrow a.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<p>When calling the <code>enqueue</code> function, we must ensure that <code>Front</code> is only empty when <code>Back</code> is empty.  Normally, we put the new value into the <code>Back</code> stack.  However, if both stacks are empty, then we will put the first new value into the <code>Front</code>.</p>

<table>
<thead>
<tr>
<th>Operation</th>
<th>Front</th>
<th>Back</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create Empty</td>
<td><code>[]</code></td>
<td><code>[]</code></td>
</tr>
<tr>
<td>Enqueue 1</td>
<td><code>[1]</code></td>
<td><code>[]</code></td>
</tr>
<tr>
<td>Enqueue 2</td>
<td><code>[1]</code></td>
<td><code>[2]</code></td>
</tr>
<tr>
<td>Enqueue 3</td>
<td><code>[1]</code></td>
<td><code>[3,2]</code></td>
</tr>
<tr>
<td>Enqueue 4</td>
<td><code>[1]</code></td>
<td><code>[4,3,2]</code></td>
</tr>
</tbody>
</table><blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ enqueue :: Value ~ ~ \lbrace [], [] \rbrace \rightarrow \lbrace [Value], [] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">∣</mi><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ enqueue :: Value ~ ~ \lbrace Front, Back \rbrace \rightarrow \lbrace Front, [Value|Back] \rbrace.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">]}</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<p>Ensuring our rule regarding the <code>Front</code> being empty only when <code>Back</code> is empty is a little more complicated for the <code>dequeue</code> function.  Normally we remove the value from the <code>Front</code> stack.  However, if the <code>Front</code> stack only has one value, then we must prevent it from going empty.  This is accomplished by taking the values in the <code>Back</code> and moving them to the <code>Front</code>.  However, the order of the values must be swapped because the first one of the <code>Back</code> should be the last one to be remove from the <code>Front</code>.</p>

<table>
<thead>
<tr>
<th>Operation</th>
<th>Front</th>
<th>Back</th>
</tr>
</thead>
<tbody>
<tr>
<td>Queue from Previous Table</td>
<td><code>[1]</code></td>
<td><code>[4,3,2]</code></td>
</tr>
<tr>
<td>Dequeue 1</td>
<td><code>[2,3,4]</code></td>
<td><code>[]</code></td>
</tr>
<tr>
<td>Dequeue 2</td>
<td><code>[3,4]</code></td>
<td><code>[]</code></td>
</tr>
<tr>
<td>Enqueue 5</td>
<td><code>[3,4]</code></td>
<td><code>[5]</code></td>
</tr>
<tr>
<td>Enqueue 6</td>
<td><code>[3,4]</code></td>
<td><code>[6,5]</code></td>
</tr>
<tr>
<td>Dequeue 3</td>
<td><code>[4]</code></td>
<td><code>[6,5]</code></td>
</tr>
<tr>
<td>Dequeue 4</td>
<td><code>[5,6]</code></td>
<td><code>[]</code></td>
</tr>
</tbody>
</table><p>Note in the definition below the first clause is for error checking (can’t <code>dequeue</code> from an empty queue).  Also, we assume a <code>reverse</code> function is available:</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue :: \lbrace [], [] \rbrace \rightarrow \lbrace [], [] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue :: \lbrace [One], Back \rbrace \rightarrow \lbrace (reverse ~ ~ Back), [] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{(</span><span class="mord mathnormal">re</span><span class="mord mathnormal" style="margin-right: 0.03588em;">v</span><span class="mord mathnormal">erse</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>F</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">∣</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mi>R</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue :: \lbrace [First|Rest], Back \rbrace \rightarrow \lbrace Rest, Back \rbrace.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">es</span><span class="mord mathnormal">t</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">es</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<p>Our <code>head</code> function is really simple since we ensured that the <code>Front</code> would never be empty when the queue was empty.</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mi>n</mi><mi>i</mi><mi>l</mi><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ head :: \lbrace [], [] \rbrace \rightarrow nil;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">ni</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>F</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">∣</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mo>→</mo><mi>F</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ head :: \lbrace [First|Rest], Back \rbrace \rightarrow First.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">es</span><span class="mord mathnormal">t</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">t</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<h2 id="problem-set-1">Problem Set 1</h2>
<ol>
<li>Implement the <code>enqueue</code>, <code>dequeue</code>, and <code>head</code> functions as described in the definitions above.  Use the test code provided to verify your implementations.  A <code>create</code> and <code>empty</code> function are already provided for you.</li>
</ol>
<h2 id="part-2---deque">Part 2 - Deque</h2>
<p>Common queue implementations also include double-ended support.  Called a deque (pronounced ‘deck’), this should include support for the following additional functions:</p>
<ul>
<li><code>enqueue_front</code> - insert a new value at the front of the queue</li>
<li><code>dequeue_back</code> - remove a value from the back of the queue</li>
<li><code>tail</code> - get the value from the back of the queue</li>
</ul>
<p><img src="https://macbeth-byui.github.io/cse382-course/images/deque.drawio.png" alt="Deque"></p>
<p>The rule that we had for the Queue (<code>Front</code> can’t be empty unless the <code>Back</code> was empty also) resulted in us having a simple <code>head</code> function.  If we don’t do something similar for our new deque functions, we will be forced to use recursion for our Tail.  Right now it is very common for our <code>Front</code> to contain all the values because we reversed the values from <code>Back</code> and moved them all over.  This would mean that we would need to recurse to the end of <code>Front</code> to find the tail.</p>
<p>We introduce an modified rule for the Deque which is that neither the <code>Front</code> nor the <code>Back</code> can be empty if there are 2 or more items in the Deque.  This means that our stacks will always take the following formats:</p>
<ul>
<li><code>Front</code> is empty and <code>Back</code> is empty - Empty Deque</li>
<li><code>Front</code> has one item and <code>Back</code> is empty - Deque with only one item</li>
<li><code>Front</code> is empty and <code>Back</code> has one item - Another valid deque with only one item</li>
<li><code>Front</code> is not empty and <code>Back</code> is not empty - Deque with more than two or more items</li>
</ul>
<p>For this to work, we will need to modify our approach for <code>dequeue</code> that said to reverse all the values from <code>Back</code> and move them to the <code>Front</code>.  This action would cause <code>Front</code> to have potentially more than one item and <code>Back</code> to be empty.</p>
<p>Instead of reversing and moving all of the <code>Back</code> on a dequeue, we will reverse and move only half of the values.  This will ensure that we will always still have some value in the <code>Back</code> (assuming we have 2 or more items still in the deque).</p>

<table>
<thead>
<tr>
<th>Operation</th>
<th>Front</th>
<th>Back</th>
</tr>
</thead>
<tbody>
<tr>
<td>Queue from Previous Table</td>
<td><code>[1]</code></td>
<td><code>[4,3,2]</code></td>
</tr>
<tr>
<td>Dequeue 1</td>
<td><code>[2,3]</code></td>
<td><code>[4]</code></td>
</tr>
<tr>
<td>Dequeue 2</td>
<td><code>[3]</code></td>
<td><code>[4]</code></td>
</tr>
<tr>
<td>Enqueue 5</td>
<td><code>[3]</code></td>
<td><code>[5,4]</code></td>
</tr>
<tr>
<td>Enqueue 6</td>
<td><code>[3]</code></td>
<td><code>[6,5,4]</code></td>
</tr>
<tr>
<td>Enqueue 7</td>
<td><code>[3]</code></td>
<td><code>[7,6,5,4]</code></td>
</tr>
<tr>
<td>Dequeue 3</td>
<td><code>[4,5]</code></td>
<td><code>[7,6]</code></td>
</tr>
<tr>
<td>Dequeue 4</td>
<td><code>[5]</code></td>
<td><code>[7,6]</code></td>
</tr>
<tr>
<td>Dequeue 5</td>
<td><code>[6]</code></td>
<td><code>[7]</code></td>
</tr>
<tr>
<td>Dequeue 6</td>
<td><code>[7]</code></td>
<td><code>[]</code></td>
</tr>
</tbody>
</table><p>With the definition below, we will assume we have a <code>split</code> and a <code>length</code> function that we will use to split a list into two halves.</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mo>→</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue :: \lbrace [One], Back \rbrace \rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="2em"></mspace><mo stretchy="false">{</mo><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>1</mn><mo separator="true">,</mo><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>2</mn><mo stretchy="false">}</mo><mo>=</mo><mo stretchy="false">(</mo><mi>s</mi><mi>p</mi><mi>l</mi><mi>i</mi><mi>t</mi><mtext>&nbsp;&nbsp;</mtext><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mtext>&nbsp;&nbsp;</mtext><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mtext>&nbsp;&nbsp;</mtext><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\kern{2em}\lbrace List1, List2 \rbrace = (split ~ ~ (length ~ ~ Back) / 2 ~ ~ Back),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mspace" style="margin-right: 2em;"></span><span class="mopen">{</span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">2</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right: 0.01968em;">pl</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">)</span><span class="mord">/2</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="2em"></mspace><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>2</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>1</mn><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">\kern{2em}\lbrace (reverse ~ ~ List2), List1 \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mspace" style="margin-right: 2em;"></span><span class="mopen">{(</span><span class="mord mathnormal">re</span><span class="mord mathnormal" style="margin-right: 0.03588em;">v</span><span class="mord mathnormal">erse</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">2</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">1</span><span class="mclose">}</span><span class="mpunct">;</span></span></span></span></span></p>
</blockquote>
<p>Since it is possible with our new rule that the <code>Back</code> may have the one item instead of the <code>Front</code>, we also need a new clause for this situation:</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue :: \lbrace [], [One] \rbrace \rightarrow \lbrace [], [] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span></p>
</blockquote>
<p>A similar consideration needs to be made with our <code>head</code> function by adding this new clause:</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ head :: \lbrace [], [One] \rbrace \rightarrow One;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mpunct">;</span></span></span></span></span></p>
</blockquote>
<p>To implement our three new functions, we will make them symmetrical with the three we already have.  The <code>enqueue_front</code> function will put the first new value in the <code>Back</code> and subsequent values in the <code>Front</code>.</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>f</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo>:</mo><mo>:</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ enqueue\_front :: Value ~ ~ \lbrace [], [] \rbrace \rightarrow \lbrace [], [Value] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00444em; vertical-align: -0.31em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord" style="margin-right: 0.02778em;">_</span><span class="mord mathnormal" style="margin-right: 0.10764em;">f</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>f</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo>:</mo><mo>:</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">∣</mi><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ enqueue\_front :: Value ~ ~ \lbrace Front, Back \rbrace \rightarrow \lbrace [Value|Front], Back \rbrace.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00444em; vertical-align: -0.31em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord" style="margin-right: 0.02778em;">_</span><span class="mord mathnormal" style="margin-right: 0.10764em;">f</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<p>The <code>dequeue_back</code> function will check for a single item in the <code>Front</code>, check for a potential empty list in the <code>Back</code> requiring a transfer of half the values in the <code>Front</code> to move to the <code>Back</code>, or a normal removal of the first value in the <code>Back</code>.</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue\_back :: \lbrace [], [] \rbrace \rightarrow \lbrace [], [] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00444em; vertical-align: -0.31em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord" style="margin-right: 0.02778em;">_</span><span class="mord mathnormal">ba</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue\_back :: \lbrace [One], [] \rbrace \rightarrow \lbrace [], [] \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00444em; vertical-align: -0.31em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord" style="margin-right: 0.02778em;">_</span><span class="mord mathnormal">ba</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue\_back :: \lbrace Front, [One] \rbrace \rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00444em; vertical-align: -0.31em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord" style="margin-right: 0.02778em;">_</span><span class="mord mathnormal">ba</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="2em"></mspace><mo stretchy="false">{</mo><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>1</mn><mo separator="true">,</mo><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>2</mn><mo stretchy="false">}</mo><mo>=</mo><mo stretchy="false">(</mo><mi>s</mi><mi>p</mi><mi>l</mi><mi>i</mi><mi>t</mi><mtext>&nbsp;&nbsp;</mtext><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mtext>&nbsp;&nbsp;</mtext><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mtext>&nbsp;&nbsp;</mtext><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\kern{2em}\lbrace List1, List2 \rbrace = (split ~ ~ (length ~ ~ Front) / 2 ~ ~ Front),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mspace" style="margin-right: 2em;"></span><span class="mopen">{</span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">2</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right: 0.01968em;">pl</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right: 0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord">/2</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="2em"></mspace><mo stretchy="false">{</mo><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>1</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>e</mi><mtext>&nbsp;&nbsp;</mtext><mi>L</mi><mi>i</mi><mi>s</mi><mi>t</mi><mn>2</mn><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">\kern{2em}\lbrace List1, (reverse ~ ~ List2) \rbrace;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mspace" style="margin-right: 2em;"></span><span class="mopen">{</span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">(</span><span class="mord mathnormal">re</span><span class="mord mathnormal" style="margin-right: 0.03588em;">v</span><span class="mord mathnormal">erse</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">L</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord">2</span><span class="mclose">)}</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>u</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>F</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">∣</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>R</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ dequeue\_back :: \lbrace Front, [First|Rest] \rbrace \rightarrow \lbrace Front, Rest \rbrace.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00444em; vertical-align: -0.31em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right: 0.03588em;">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord" style="margin-right: 0.02778em;">_</span><span class="mord mathnormal">ba</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">es</span><span class="mord mathnormal">t</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">es</span><span class="mord mathnormal">t</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<p>The <code>tail</code> function will check for either a single value in the <code>Front</code> or the first value in the <code>Back</code>.</p>
<blockquote>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mi>n</mi><mi>i</mi><mi>l</mi><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ tail :: \lbrace [], [] \rbrace \rightarrow nil;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">ni</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mo stretchy="false">[</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mi>O</mi><mi>n</mi><mi>e</mi><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ tail :: \lbrace [One], [] \rbrace \rightarrow One;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{[</span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mpunct">;</span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>f</mi><mtext>&nbsp;&nbsp;</mtext><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mo>:</mo><mo>:</mo><mo stretchy="false">{</mo><mi>F</mi><mi>r</mi><mi>o</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>F</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">∣</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo><mo>→</mo><mi>F</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">de\mathit{f} ~ ~ tail :: \lbrace Front, [First|Rest] \rbrace \rightarrow First.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathit">f</span><span class="mspace nobreak">&nbsp;</span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">::</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">es</span><span class="mord mathnormal">t</span><span class="mclose">]}</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">t</span><span class="mord">.</span></span></span></span></span></p>
</blockquote>
<h2 id="problem-set-2">Problem Set 2</h2>
<ol>
<li>Implement the <code>enqueue_front</code>, <code>dequeue_back</code>, and <code>tail</code> functions as described in the definitions above.  You will also need to modify the <code>dequeue</code> and <code>head</code> to support the deque.  Use the test code provided to verify your implementations.</li>
</ol>
<h2 id="part-3---performance">Part 3 - Performance</h2>
<p>When we look at the performance of a deque with Python or C++, we see O(1) performance for all 6 functions we described in the previous sections.  Using pointers, the deque is easily modified.  However, in an immutable environment, we have had to be creative using Stacks and functions like <code>split</code> and <code>reverse</code>.  These utility functions were used to ensure O(1) performance on <code>head</code> and <code>tail</code>.  What affect has the <code>split</code> and <code>reverse</code> had on the cost of <code>dequeue</code> and <code>dequeue_back</code>?</p>
<p>If we do profile analysis on running <code>dequeue</code>, we will find first of all that the <code>split</code> and <code>reverse</code> were not always needed.  This only occurred a relatively small number of times.  When these functions are used, there is an O(<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">n/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">n</span><span class="mord">/2</span></span></span></span></span>) cost where <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span> is the size of the list being split.  However, each time <code>split</code> and <code>reverse</code> are called, the value of <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span> is getting smaller (assuming we are done enqueuing values).  In other words, its not really an O(<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span>) every time <code>dequeue</code> is called.  In comparison, its like the dynamic array in Python and C++ which has to double in size and copy values sometimes.  We don’t say the cost of adding another item to the end is O(n) but rather O(1) amortized.  The cost of doing the occasional doubling (with the copy) is amortized across multiple adds which didn’t require the extra work.</p>
<p>Let’s consider what happens if we add 20 numbers to our deque using <code>enqueue</code>:</p>
<p><code>Front = [1] Back = [20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2]</code></p>
<p>If we start calling <code>dequeue</code>, how many times does the <code>split</code> and <code>reverse</code> happen?</p>

<table>
<thead>
<tr>
<th>Front</th>
<th>Back</th>
<th>Number Split/Reverse</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[2,3,4,5,6,7,8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>10</td>
</tr>
<tr>
<td><code>[3,4,5,6,7,8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[4,5,6,7,8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[5,6,7,8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[6,7,8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[7,8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[8,9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[9,10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[10,11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[11]</code></td>
<td><code>[20,19,18,17,16,15,14,13,12]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[12,13,14,15,16]</code></td>
<td><code>[20,19,18,17]</code></td>
<td>5</td>
</tr>
<tr>
<td><code>[13,14,15,16]</code></td>
<td><code>[20,19,18,17]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[14,15,16]</code></td>
<td><code>[20,19,18,17]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[15,16]</code></td>
<td><code>[20,19,18,17]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[16]</code></td>
<td><code>[20,19,18,17]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[17,18]</code></td>
<td><code>[20,19]</code></td>
<td>2</td>
</tr>
<tr>
<td><code>[18]</code></td>
<td><code>[20,19]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[19]</code></td>
<td><code>[20]</code></td>
<td>0</td>
</tr>
<tr>
<td><code>[20]</code></td>
<td><code>[]</code></td>
<td>1</td>
</tr>
<tr>
<td><code>[]</code></td>
<td><code>[]</code></td>
<td>0</td>
</tr>
<tr>
<td></td>
<td><strong>TOTAL</strong></td>
<td>18</td>
</tr>
</tbody>
</table><p>The number of times something had to be split off and reversed was only 18.  If we divide these 18 actions across the 20 <code>dequeue</code> calls, we get the amortized O(1) for <code>dequeue</code>.</p>
<p>Contrast this with what you would see if we tried to remove the last element of a single list.  We would need to recurse to the end every time we wanted to <code>dequeue</code> for a total of over 200 times.  Remove the last item of the list in this fashion would give us O(<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span>) without any amortization possible.</p>
<p>In the problem set below, you will observe the actual time and function counts with a deque of size 1 million.  Your observations should convince you of the amortized nature of our deque.</p>
<h2 id="problem-set-3">Problem Set 3</h2>
<ol>
<li>Using the <code>start_perf</code> and <code>stop_perf</code> functions provided, compare the time it takes to <code>enqueue</code> the numbers 1 to 1,000,000 versus the time it takes to <code>dequeue</code> those same numbers.  Identify how we achieved O(1) for these two functions.</li>
<li>Perform the same timing test to compare <code>enqueue_front</code> and <code>dequeue_back</code>.  Identify how we achieved O(1) for these two functions as well.</li>
</ol>

    </div>
  </div>
</body>

</html>
